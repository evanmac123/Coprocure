!function(e){var t={};function n(o){if(t[o])return t[o].exports;var a=t[o]={i:o,l:!1,exports:{}};return e[o].call(a.exports,a,a.exports,n),a.l=!0,a.exports}n.m=e,n.c=t,n.d=function(e,t,o){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)n.d(o,a,function(t){return e[t]}.bind(null,a));return o},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=3)}([function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.trackEvent=function(e,t,n){"undefined"!=typeof ga&&ga("gtag_UA_121612479_1.send",{hitType:"event",eventCategory:e,eventAction:t,eventLabel:n});if((0,o.getUser)())(0,o.postActivity)((0,o.getUser)(),e,t,n);else{var a={};a.category=e,a.action=t,a.label=n;var i=[];(0,o.getLocalActivity)()&&(i=JSON.parse((0,o.getLocalActivity)())),i.push(a),(0,o.setLocalActivity)(JSON.stringify(i))}};var o=n(1)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getUser=i,t.getLocalActivity=r,t.setUser=s,t.setLocalActivity=function(e){localStorage.setItem("coProcureActivity",e)},t.showIdentityModal=function(e){c({title:'<i class="material-icons">lock</i> Unlock access to thousands of contracts',body:'<p>Enter your government email address to immediately get full free access - including contract downloads.</p>\n      <form method="post" action="">\n        <label>\n          <span class="field-description">Your email address</span>\n          <input type="text" name="email">\n        </label>\n        <button type="submit" class="add-email">Submit</button>\n      </form>',close:!1,contractId:e})},t.showContactVendorModal=function(e){c({title:"Contact Vendor",body:'<form method="post" action="">\n        <label>\n          <span class="field-description">What information do you need from this vendor?</span>\n          <textarea name="purchase-info"></textarea>\n        </label>\n        <button type="submit" class="contact-vendor">Submit</button>\n      </form>',close:!1,contractId:e})},t.postActivity=l;var o=n(0),a=n(2);function i(){var e=localStorage.getItem("coProcureUser");return e||!1}function r(){var e=localStorage.getItem("coProcureActivity");return e||!1}function s(e){localStorage.setItem("coProcureUser",e)}function c(e){var t='<div class="js-identityModal modal fade" tabindex="-1" role="dialog">\n    <div class="modal-dialog" role="document">\n      <div class="modal-content">\n        <div class="modal-header">\n          <h5 class="modal-title">'+e.title+'</h5>\n        </div>\n        <div class="modal-body">\n          '+e.body+'\n          <input type="hidden" class="contractId" name="contractId" value="'+e.contractId+'">\n        </div>\n      </div>\n    </div>\n  </div>';document.body.insertAdjacentHTML("beforeend",'<div class="modal-backdrop fade"></div>'),document.body.insertAdjacentHTML("beforeend",t),setTimeout(function(){document.querySelector(".js-identityModal .modal-dialog").classList.add("show")},50),document.querySelector(".js-identityModal button.add-email")&&document.querySelector(".js-identityModal button.add-email").addEventListener("click",function(t){t.preventDefault(),t.stopPropagation();var n=document.querySelector('.modal-dialog form input[name="email"').value;if(n.indexOf("@")>-1){fetch("https://cncx06eah4.execute-api.us-east-1.amazonaws.com/production/signup",{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:n})}).then(function(e){return e.text()}).then(function(e){console.log(e)}),s(n),(0,o.trackEvent)("user","login",e.contractId);var a=[];r()&&(a=JSON.parse(r())),a.forEach(function(e){l(e.category,e.action,e.label)}),document.querySelector(".modal-backdrop").remove(),document.querySelector(".js-identityModal").remove(),localStorage.removeItem("coProcureActivity")}else document.querySelector('.modal-dialog form input[name="email"').style.border="solid 2px red"}),document.querySelector(".js-identityModal button.contact-vendor")&&document.querySelector(".js-identityModal button.contact-vendor").addEventListener("click",function(t){t.preventDefault(),t.stopPropagation();var n=i(),a=document.querySelector('textarea[name="purchase-info"]').value,r=document.querySelector("input.contractId").value;fetch("https://cncx06eah4.execute-api.us-east-1.amazonaws.com/production/vendor-contact",{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:n,description:a,contract:r})}).then(function(e){return e.text()}).then(function(e){console.log(e),document.querySelector(".modal-backdrop").remove(),document.querySelector(".js-identityModal").remove()}),(0,o.trackEvent)("user","contact-vendor",e.contractId)}),document.querySelector(".modal").addEventListener("click",function(e){if(e.preventDefault(),!(0,a.checkParents)(e,"modal-dialog")){document.querySelector(".modal-backdrop").remove(),document.querySelector(".js-identityModal").remove();var t=document.querySelector(".expandable-contract.flipped"),n=t.dataset.hitId,o=document.querySelector('.contracts[data-hit-id="'+n+'"]');t.classList.remove("flipped"),o.style.display="none"}})}function l(e,t,n,o){var a={email:e,category:t,action:n,label:o,userAgent:navigator.userAgent,screenSize:window.innerWidth+" "+window.innerHeight};console.log(a);fetch("https://cncx06eah4.execute-api.us-east-1.amazonaws.com/production/activity",{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)}).then(function(e){return e.text()}).then(function(e){console.log(e)})}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.checkParents=function(e,t){var n=e.target;for(;n;){if(n.classList&&n.classList.length>0){var o=n.classList;if(o.contains(t))return n}n=n.parentNode}return!1}},function(e,t,n){"use strict";n(4),n(5),n(6);var o=n(7),a=n(9),i=n(10),r=n(0);document.getElementById("submit-search").addEventListener("click",function(e){e.preventDefault(),window.highlightItem="",window.reverseSort="",getResults(!1,0)}),window.currentSort="",window.limit=!1,window.getResults=function(e,t){var n="";e&&""==document.querySelector('input[name="query"]').value&&(n="kcrpc%20and%20"),""!=document.querySelector('input[name="query"]').value&&(0,r.trackEvent)("search","query",document.querySelector('input[name="query"]').value);var a="https://nhhu21hyj1.execute-api.us-west-1.amazonaws.com/prod?start="+t+"&q="+n+document.querySelector('input[name="query"]').value+window.currentSort;fetch(a).then(function(e){200===e.status?e.json().then(function(e){(0,o.displayResults)(e)}):console.log("Looks like there was a problem. Status Code: "+e.status)}).catch(function(e){console.log("Fetch Error :-S",e)})},document.querySelector(".search-results").addEventListener("click",function(e){(0,a.handleExpansion)(e),(0,i.handleSort)(e)}),window.location.pathname.indexOf("kcrpc")>-1&&(window.limit=!0,window.getResults(!0,0))},function(e,t){e.exports=require("whatwg-fetch")},function(e,t){e.exports=require("nodelist-foreach-polyfill")},function(e,t){e.exports=require("promise-polyfill/src/polyfill")},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.displayResults=function(e){window.trackEvent||(window.trackEvent=i.trackEvent);var t='\n  <ul class="results-list">\n    <li class="header">\n      <span class="contract-name js-sortable">\n        Contract name \n        <svg class="icon icon-caret icon-caret--down" id="icon--dropdown-carrot" viewBox="0 0 9.7667 6.7638" ><title>Dropdown Caret</title><path d="M5.5819,6.4285,9.5683,1.4552A.8953.8953,0,0,0,8.87,0H.8969A.8953.8953,0,0,0,.1984,1.4552L4.1848,6.4285A.8953.8953,0,0,0,5.5819,6.4285Z"></path></svg>\n      </span>\n      <span class="contract-expiration js-sortable">\n        Expiration \n        <svg class="icon icon-caret icon-caret--down" id="icon--dropdown-carrot" viewBox="0 0 9.7667 6.7638" ><title>Dropdown Caret</title><path d="M5.5819,6.4285,9.5683,1.4552A.8953.8953,0,0,0,8.87,0H.8969A.8953.8953,0,0,0,.1984,1.4552L4.1848,6.4285A.8953.8953,0,0,0,5.5819,6.4285Z"></path></svg>\n      </span>\n      <span class="contract-agency js-sortable">\n        Lead agency\n      </span>\n      <span class="contract-vendor">Vendor</span>\n      <span class="contract-state">State</span>\n    </li>\n  '+e.hits.hit.map(function(e){var t=[];e.fields.contract_files&&(t=JSON.parse(e.fields.contract_files));var n=null,a=null,i=null,r=null,s=null;return e.fields.amendments_files&&(n=JSON.parse(e.fields.amendments_files)),e.fields.pricing_files&&(a=JSON.parse(e.fields.pricing_files)),e.fields.bid_tabulation_files&&(i=JSON.parse(e.fields.bid_tabulation_files)),e.fields.bid_solicitation_files&&(r=JSON.parse(e.fields.bid_solicitation_files)),e.fields.other_docs_files&&(s=JSON.parse(e.fields.other_docs_files)),'\n    <li class="expandable-contract" data-hit-id="'+e.id+'">\n      <span class="contract-name">\n        <div>'+e.fields.title+'</div>\n        <div class="summary">'+(e.fields.summary&&"undefined"!=e.fields.summary?""+e.fields.summary:"")+'</div>\n      </span>\n      <span class="contract-expiration">\n        '+((0,o.isDate)(e.fields.expiration)?new Date(e.fields.expiration).toLocaleDateString():"")+'\n      </span>\n      <span class="contract-agency">'+(e.fields.buyer?""+e.fields.buyer:"")+'\n      </span>\n      <span class="contract-vendor">'+(e.fields.vendor?""+e.fields.vendor.toString():e.fields.vendor_info?""+e.fields.vendor_info.replace("undefined",""):"")+'</span>\n      <span class="contract-state">'+(e.fields.states?""+e.fields.states:"")+'</span>\n    </li>\n    <li class="contracts" data-hit-id="'+e.id+'" style="display: none;">\n      <div class="all-files">\n        <div class="files">\n          <p>Contract</p>\n          '+t.map(function(e){return'<div class="fileset">\n              <a href="'+e.url+'" target="_new" class="file-name-link">'+decodeURIComponent(e.filename)+"</a>\n            </div>"}).join("\n      ")+"\n        </div>\n        "+(n?'<div class="files">\n              <p>Amendments</p>\n              '+n.map(function(e){return'<div class="fileset">\n                  <a href="'+e.url+'" target="_new" class="file-name-link">'+decodeURIComponent(e.filename)+"</a>\n                </div>"}).join("\n      ")+"\n            </div>":"")+"\n        "+(a?'<div class="files">\n            <p>Pricing</p>\n            '+a.map(function(e){return'<div class="fileset">\n                <a href="'+e.url+'" target="_new" class="file-name-link">'+decodeURIComponent(e.filename)+"</a>\n              </div>"}).join("\n      ")+"\n            </div>":"")+"\n        "+(i?'<div class="files">\n            <p>Bid Tabulation</p>\n            '+i.map(function(e){return'<div class="fileset">\n                <a href="'+e.url+'" target="_new" class="file-name-link">'+decodeURIComponent(e.filename)+"</a>\n              </div>"}).join("\n      ")+"\n            </div>":"")+"\n        "+(r?'<div class="files">\n            <p>Bid Solicitation</p>\n            '+r.map(function(e){return'<div class="fileset">\n                <a href="'+e.url+'" target="_new" class="file-name-link">'+decodeURIComponent(e.filename)+"</a>\n              </div>"}).join("\n      ")+"\n            </div>":"")+"\n        "+(s?'<div class="files">\n            <p>Other Documents</p>\n            '+s.map(function(e){return'<div class="fileset">\n                <a href="'+e.url+'" target="_new" class="file-name-link">'+decodeURIComponent(e.filename)+"</a>\n              </div>"}).join("\n      ")+"\n            </div>":"")+'\n      </div>\n      <button class="contact-vendor">Contact Vendor</button>\n    </li>'}).join("\n      ")+"\n  "+function(){var t=e.hits.start+1,n=t+9;e.hits.found<10&&(n=e.hits.found);var o="result";e.hits.found>1&&(o="results");var a="",i="";return e.hits.found>t+10&&(a="<a href=\"javascript:trackEvent('search','next','"+document.querySelector('input[name="query"]').value+"');getResults(false,"+(e.hits.start+10)+');">>></a>'),e.hits.start>0&&(i="<a href=\"javascript:trackEvent('search','previous','"+document.querySelector('input[name="query"]').value+"');getResults(false,"+(e.hits.start-10)+');"><<</a>'),'<li class="result-counter"><span style="margin: 0 20px 0 0;">'+i+"</span>  Showing "+t+" - "+n+" of "+e.hits.found+" "+o+'  <span style="margin: 0 0 0 20px;">'+a+"</span></li>\n  </ul>"}();document.querySelector(".search-results").innerHTML=t,window.highlightItem&&(document.querySelector(window.highlightItem).classList.add("highlit"),window.reverseSort&&document.querySelector("."+window.reverseSort).classList.add("reverse"));document.querySelector(".submit-request").style.display="block";var n=(0,a.getUser)(),r=document.querySelector('.submit-request input[name="email"]');n&&(r.value=n,r.parentNode.style.display="none");document.querySelector(".submit-request button").addEventListener("click",function(e){e.preventDefault();var t=r.value;return fetch("https://cncx06eah4.execute-api.us-east-1.amazonaws.com/production/govpurchase",{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:t,description:document.querySelector(".submit-request textarea").value})}).then(function(e){return e.text()}).then(function(e){console.log(e)}),document.querySelector(".submit-request").innerHTML="<h3>Thank you for your request!</h3>",!1})};var o=n(8),a=n(1),i=n(0)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isDate=function(e){return"Invalid Date"!==new Date(e)&&!isNaN(new Date(e))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.handleExpansion=function(e){var t=(0,o.checkParents)(e,"expandable-contract");t&&(t.classList.toggle("flipped"),e.preventDefault(),t.classList.contains("flipped")?document.querySelector('.contracts[data-hit-id="'+t.dataset.hitId+'"]').style.display="flex":document.querySelector('.contracts[data-hit-id="'+t.dataset.hitId+'"]').style.display="none",(0,i.trackEvent)("contract","expand",t.dataset.hitId),(0,a.getUser)()||((0,i.trackEvent)("contract","show-login-modal",t.dataset.hitId),(0,a.showIdentityModal)(t.dataset.hitId)));(0,o.checkParents)(e,"contact-vendor")&&(0,a.showContactVendorModal)((0,o.checkParents)(e,"contracts").dataset.hitId);e.target.classList.contains("file-name-link")&&(0,i.trackEvent)("contract","download",t.dataset.hitId+" - "+e.target.innerText)};var o=n(2),a=n(1),i=n(0)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.handleSort=function(e){var t=(0,o.checkParents)(e,"js-sortable");t&&(""!=document.querySelector('input[name="query"]').value&&(limit=!1),t.classList.contains("contract-name")&&(window.currentSort="&sort=title%20asc",".contract-name"==window.highlightItem&&(t.classList.contains("reverse")?(window.reverseSort="",window.currentSort="&sort=title%20asc"):(window.currentSort="&sort=title%20desc",window.reverseSort="contract-name")),window.highlightItem=".contract-name"),t.classList.contains("contract-expiration")&&(window.currentSort="&sort=expiration%20asc",".contract-expiration"==window.highlightItem&&(t.classList.contains("reverse")?(window.reverseSort="",window.currentSort="&sort=expiration%20asc"):(window.currentSort="&sort=expiration%20desc",window.reverseSort="contract-expiration")),window.highlightItem=".contract-expiration"),t.classList.contains("contract-agency")&&(window.currentSort="&sort=buyer%20asc",".contract-agency"==window.highlightItem&&(t.classList.contains("reverse")?(window.reverseSort="",window.currentSort="&sort=buyer%20asc"):(window.currentSort="&sort=buyer%20desc",window.reverseSort="contract-agency")),window.highlightItem=".contract-agency"),document.querySelectorAll(".js-sortable").forEach(function(e){e.classList.remove("highlit")}),t.classList.add("highlit"),(0,a.trackEvent)("search","sort",window.currentSort),getResults(limit,0))};var o=n(2),a=n(0)}]);